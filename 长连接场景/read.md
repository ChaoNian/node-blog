在这个示例中，我们将创建一个简单的长连接应用，使用 cluster 模块创建多个工作进程来处理长连接请求。每个工作进程将独立监听和处理客户端的连接，并保持长连接。

1. 主进程代码 (master.js)
主进程负责创建工作进程，并管理它们的生命周期。

2. 客户端代码
为了测试长连接，可以使用 telnet 或者编写一个简单的 Node.js 客户端代码来连接服务器端口并发送数据。

运行和测试
启动主进程：

bash
复制代码
```shell
node master.js
```
启动客户端：

bash
复制代码
```shell
node client.js
```
客户端将连接到服务器的端口 8000，并发送数据。你会看到服务器端工作进程处理连接，并回复客户端发送的数据。

注意事项
共享状态和资源：工作进程之间不能直接共享内存，需要通过 IPC 或者共享存储来管理状态和数据。

错误处理：在实际应用中，需要适当处理客户端的断开连接、错误以及其他异常情况，以确保应用的稳定性。

性能监控和调优：使用 Node.js 的监控工具和第三方工具来监视并优化工作进程的性能和资源利用。

通过以上示例，你可以理解如何在 Node.js 中使用单机集群来实现长连接应用，利用多核 CPU 资源来处理并发连接，提升应用的性能和可伸缩性。